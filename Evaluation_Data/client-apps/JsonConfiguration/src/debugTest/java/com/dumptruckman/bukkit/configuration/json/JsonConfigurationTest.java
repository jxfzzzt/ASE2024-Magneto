package com.dumptruckman.bukkit.configuration.json;

import org.bukkit.Bukkit;
import org.bukkit.configuration.InvalidConfigurationException;
import org.bukkit.configuration.serialization.ConfigurationSerialization;
import org.bukkit.craftbukkit.v1_12_R1.inventory.CraftItemFactory;
import org.bukkit.inventory.ItemFactory;
import org.bukkit.inventory.ItemStack;
import org.junit.Before;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.mockito.BDDMockito;
import org.powermock.api.mockito.PowerMockito;
import org.powermock.core.classloader.annotations.PowerMockIgnore;
import org.powermock.core.classloader.annotations.PrepareForTest;
import org.powermock.modules.junit4.PowerMockRunner;

import java.io.File;

@RunWith(PowerMockRunner.class)
@PrepareForTest(Bukkit.class)
@PowerMockIgnore("javax.management.*")
public class JsonConfigurationTest {

    private static final String invalidJson1 = "{\"SURVIVAL\":{\"potions\":\"[]\",\"enderChestContents\":{\"0\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"SKULL_ITEM\",\"damage\":3,\"amount\":24,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SKULL\",\"display-name\":\"§6§l[ §e§lLuckyBlock §6§l]\",\"internal\":\"H4sIAAAAAAAAADVPx66jZhhlool05yqPkR26ooNZzMKmmW66YUcz7afYdJ4pDxnPKFl9+s7RaZ8Q9An95TQzALdX\\/6hA\\/gH9IWfQ3ymW0WhKoV8MmlBfJIPjXyeUYr5ODEMzFMXkFJp9Qp9v0ZC\\/pioff0AfU75N8ysfPyEI+vYB\\/XCqoot\\/IX\\/8U8gUTMhlUWW6OptyMTI3I\\/JIOee4rDoKVujBESamMGuCGD\\/Wq2R2qEUNFpfP0+tmN3TrDAjCqbcesQrifIzEPtLOOE4T7eMS8SBE8348YH9itnp5hlvWRsxFkU7n6dVj1rsrmeM6\\/wzRKVItEGNPzsuohsLHeiHvsS0RO20jzkSPpYqnD\\/ecWQ99WYtTDosya0qx0rqJeRtWBblSPWWitA03sIXdOpcUFAzlh\\/ilFGUvdjWN+4fFxw2TcCV3iCLZ892EXVWN8sguGu2el4Qga4UabtVDUvSgZvZJHfcmoqvTRvIki0QPq0bFS4UwOyGm8PW1wra4mKGWI+Y9bP2OachkIzv+1PZt+gI0mz8DVLq\\/TlUfIg4\\/xuqGXOqLxuQ5LkYBuFGoQp3aDnj86kWZTZ6YNC4vzVAhHLyFziAOEVIO4WOF1\\/AivVys2NPH1ccs8XHSDrF2xrgQm1mb4P581WtVT1nXXSjd2ceLJLLtEW6aVmjdTKstXNILbCZwyYRbmZOTOVjqji+dd9+S4wSbZHLznknfO1PEZbLKpPcMScPwFpcx0ohKX4TreI2pRfJvOmmTuao+6nVWrdS9nxtUyBiLvYLLYFqGSj1FrvcAwrL2HRmPq3HYqck0AgefUm3hgvq91wHxeceOy1JRnpkfLFrEM9i3WRmaYIEHnt6wAaAByujP4gg9Xfj5Af3px2DOv235rqBxgIGUsMvkfq7MWkBNNySMWsbflzR5b5S7y57g0ZBIvhJxMi23+hbx4Roe3mocl8pwLUKvZVLnPcLk07c2xQw3A4Z7aeRqrdKrskQtGCOPKpPAq8xK0bPAeP3mcNAlrYhmdwV4rb9lAdijwKrMzt6z4Fe2DfKrjaWtf8j1wMjA0ByPfPNjlQQ+GgZ2mUnCfz\\/bRMH6y\\/9IJDDJHfrW+3vyu3OJZtczre0sGt3L33npTk1xQIGQUMqos+ak9VGN+D\\/PWwxXoCJeJkO3wPVDaUPXbkw+q8M3bgZKFR4KMPmyjmodNyUbRJL13p2ixnHeDFwE+mGRBq9jRg1aAxfeHnZtOAr7uKM\\/IegD+m7EbQ591+a0gaB\\/AaEUjPinBAAA\",\"skull-owner\":\"Luck\"}},\"1\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_PICKAXE\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DIG_SPEED\":100,\"SILK_TOUCH\":666,\"DURABILITY\":60}}},\"2\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_PICKAXE\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DAMAGE_ALL\":40,\"DIG_SPEED\":80,\"DURABILITY\":60,\"LOOT_BONUS_BLOCKS\":50}}},\"3\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"LAPIS_ORE\",\"amount\":46},\"4\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_BEEF\",\"amount\":30}},\"inventoryContents\":{\"22\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"mooshroom\"}},\"23\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"horse\"}},\"24\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"ocelot\"}},\"25\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"BOOKSHELF\",\"amount\":9},\"26\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND\",\"amount\":16},\"27\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"RAW_CHICKEN\"},\"28\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"GRILLED_PORK\",\"amount\":21},\"29\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_MUTTON\",\"amount\":51},\"30\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"WEB\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"display-name\":\"§1§l[ §c§lBaguette Spiderman §1§l]\",\"lore\":[\"§7§l[ §aUtilisations restantes §7§l]\",\"20\"],\"enchants\":{\"LUCK\":1},\"ItemFlags\":[HIDE_ENCHANTS]}},\"31\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COBBLESTONE\",\"amount\":64},\"10\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"FLINT\",\"amount\":2},\"32\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"SKULL_ITEM\",\"damage\":3,\"amount\":34,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SKULL\",\"display-name\":\"§6§l[ §e§lLuckyBlock §6§l]\",\"internal\":\"H4sIAAAAAAAAADVPx66jZhhlool05yqPkR26ooNZzMKmmW66YUcz7afYdJ4pDxnPKFl9+s7RaZ8Q9An95TQzALdX\\/6hA\\/gH9IWfQ3ymW0WhKoV8MmlBfJIPjXyeUYr5ODEMzFMXkFJp9Qp9v0ZC\\/pioff0AfU75N8ysfPyEI+vYB\\/XCqoot\\/IX\\/8U8gUTMhlUWW6OptyMTI3I\\/JIOee4rDoKVujBESamMGuCGD\\/Wq2R2qEUNFpfP0+tmN3TrDAjCqbcesQrifIzEPtLOOE4T7eMS8SBE8348YH9itnp5hlvWRsxFkU7n6dVj1rsrmeM6\\/wzRKVItEGNPzsuohsLHeiHvsS0RO20jzkSPpYqnD\\/ecWQ99WYtTDosya0qx0rqJeRtWBblSPWWitA03sIXdOpcUFAzlh\\/ilFGUvdjWN+4fFxw2TcCV3iCLZ892EXVWN8sguGu2el4Qga4UabtVDUvSgZvZJHfcmoqvTRvIki0QPq0bFS4UwOyGm8PW1wra4mKGWI+Y9bP2OachkIzv+1PZt+gI0mz8DVLq\\/TlUfIg4\\/xuqGXOqLxuQ5LkYBuFGoQp3aDnj86kWZTZ6YNC4vzVAhHLyFziAOEVIO4WOF1\\/AivVys2NPH1ccs8XHSDrF2xrgQm1mb4P581WtVT1nXXSjd2ceLJLLtEW6aVmjdTKstXNILbCZwyYRbmZOTOVjqji+dd9+S4wSbZHLznknfO1PEZbLKpPcMScPwFpcx0ohKX4TreI2pRfJvOmmTuao+6nVWrdS9nxtUyBiLvYLLYFqGSj1FrvcAwrL2HRmPq3HYqck0AgefUm3hgvq91wHxeceOy1JRnpkfLFrEM9i3WRmaYIEHnt6wAaAByujP4gg9Xfj5Af3px2DOv235rqBxgIGUsMvkfq7MWkBNNySMWsbflzR5b5S7y57g0ZBIvhJxMi23+hbx4Roe3mocl8pwLUKvZVLnPcLk07c2xQw3A4Z7aeRqrdKrskQtGCOPKpPAq8xK0bPAeP3mcNAlrYhmdwV4rb9lAdijwKrMzt6z4Fe2DfKrjaWtf8j1wMjA0ByPfPNjlQQ+GgZ2mUnCfz\\/bRMH6y\\/9IJDDJHfrW+3vyu3OJZtczre0sGt3L33npTk1xQIGQUMqos+ak9VGN+D\\/PWwxXoCJeJkO3wPVDaUPXbkw+q8M3bgZKFR4KMPmyjmodNyUbRJL13p2ixnHeDFwE+mGRBq9jRg1aAxfeHnZtOAr7uKM\\/IegD+m7EbQ591+a0gaB\\/AaEUjPinBAAA\",\"skull-owner\":\"Luck\"}},\"11\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"NETHER_STAR\"},\"12\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"BOOK\",\"amount\":10},\"34\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"ARROW\"},\"13\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"GOLD_NUGGET\",\"amount\":4,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"display-name\":\"§cPièce chanceuse\",\"enchants\":{\"LUCK\":1},\"ItemFlags\":[HIDE_ENCHANTS]}},\"14\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"pig\"}},\"36\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_BOOTS\",\"damage\":258,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"FROST_WALKER\":2,\"DURABILITY\":60,\"PROTECTION_FALL\":25},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXPOdh3t1f6O\\/AwsAJEvJJTSwuWb+nPsaqKugYGwObY25+aV6JAwcDGHAwsATn5JcwsKSlppZwMPDCjfdLzE1l4E1PzUstykzWSwQ5g5mB078gtSixJDM\\/D6oXrIoV7EgGJCdwlb172ZnswY\\/shElXgmbIiXiIIJxwuL2BsBPEUJwQkl+anpGXWlyMyy18jijKGBgAooym7kwBAAA=\"}},\"15\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"cow\"}},\"37\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_LEGGINGS\",\"damage\":232,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXsF+4mnnBxz2AhYETJOSTmlhcstahujaRp0qCjYHNMTe\\/NK\\/EQYIBDDgYWIJz8ksYWHJS04s5GHjhxvsl5qYy8Kan5qUWZSbrJYKcwczA6V+QWpRYkpmfB9ULVsUKdiQDkhN82Vp+vf\\/t0oXshB39k0yrG63EEE443N5A2AliKE4IyS9Nz8hLLS7G5RY+RxRlDAwAQP5PxUwBAAA=\"}},\"16\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"rabbit\"}},\"38\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_CHESTPLATE\",\"damage\":227,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXBLXd+XjvkMdLFgZOkJBPamJxyawc6ULpnW4RbAxsjrn5pXklDgoMYMDBwBKck1\\/CwJqckVpcwsHACzffLzE3lYE3PTUvtSgzWS8R5A5mBk7\\/gtSixJLM\\/DyoZrAqVrArGZDc0KJZYdQ73T8d2Q2Lqv3k777nn4Nww+H2BiLcIIbihpD80vSMvNTiYlyO4XNEUcbAAADU9BM8TgEAAA==\"}},\"17\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"sheep\"}},\"39\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_HELMET\",\"damage\":231,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60,\"OXYGEN\":10,\"WATER_WORKER\":20},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXlHz3XbfW13ESCwMnSMgnNbG4pNd3Auf\\/Z8c3sTGwOebml+aVOHAwgAEHA0twTn4JA0tGamIKBwMv3Hi\\/xNxUBt701LzUosxkvUSQM5gZOP0LUosSSzLz86B6wapYwY5kQHJChPnH9HONDm7ITlgdLxvN80eOHeGEw+0NhJ0ghuKEkPzS9Iy81OJiXG7hc0RRxsAAAJYvEYRMAQAA\"}},\"18\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"squid\"}},\"19\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"villager\"}},\"0\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_SWORD\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DIG_SPEED\":100,\"DAMAGE_ALL\":40,\"DAMAGE_UNDEAD\":40,\"DAMAGE_ARTHROPODS\":40,\"DURABILITY\":60,\"FIRE_ASPECT\":20,\"LOOT_BONUS_MOBS\":60,\"SWEEPING\":30,\"MENDING\":8}}},\"1\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"BOW\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"ARROW_DAMAGE\":40,\"ARROW_KNOCKBACK\":25,\"DURABILITY\":60,\"ARROW_FIRE\":25,\"ARROW_INFINITE\":666}}},\"2\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_AXE\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DAMAGE_ALL\":40,\"DIG_SPEED\":80,\"DURABILITY\":60,\"LOOT_BONUS_BLOCKS\":50,\"MENDING\":1}}},\"3\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_PICKAXE\",\"damage\":8,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"display-name\":\"§6§l§k|§3§lVip+§6§l§k|§r \",\"enchants\":{\"DIG_SPEED\":8,\"DURABILITY\":10,\"LOOT_BONUS_BLOCKS\":3}}},\"4\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_BEEF\",\"amount\":3},\"5\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"SLIME_BALL\",\"amount\":12},\"7\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"STRING\",\"amount\":4},\"8\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COAL_BLOCK\",\"amount\":8},\"9\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"ARROW\",\"amount\":64},\"20\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"chicken\"}},\"21\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"wolf\"}}},\"bedSpawnLocation\":{\"wo\":\"Survie\",\"x\":-12842.0,\"ya\":0.0,\"y\":110.0,\"pi\":0.0,\"z\":1103.0},\"armorContents\":{\"0\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_BOOTS\",\"damage\":258,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"FROST_WALKER\":2,\"DURABILITY\":60,\"PROTECTION_FALL\":25},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXPOdh3t1f6O\\/AwsAJEvJJTSwuWb+nPsaqKugYGwObY25+aV6JAwcDGHAwsATn5JcwsKSlppZwMPDCjfdLzE1l4E1PzUstykzWSwQ5g5mB078gtSixJDM\\/D6oXrIoV7EgGJCdwlb172ZnswY\\/shElXgmbIiXiIIJxwuL2BsBPEUJwQkl+anpGXWlyMyy18jijKGBgAooym7kwBAAA=\"}},\"1\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_LEGGINGS\",\"damage\":232,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXsF+4mnnBxz2AhYETJOSTmlhcstahujaRp0qCjYHNMTe\\/NK\\/EQYIBDDgYWIJz8ksYWHJS04s5GHjhxvsl5qYy8Kan5qUWZSbrJYKcwczA6V+QWpRYkpmfB9ULVsUKdiQDkhN82Vp+vf\\/t0oXshB39k0yrG63EEE443N5A2AliKE4IyS9Nz8hLLS7G5RY+RxRlDAwAQP5PxUwBAAA=\"}},\"2\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_CHESTPLATE\",\"damage\":227,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXBLXd+XjvkMdLFgZOkJBPamJxyawc6ULpnW4RbAxsjrn5pXklDgoMYMDBwBKck1\\/CwJqckVpcwsHACzffLzE3lYE3PTUvtSgzWS8R5A5mBk7\\/gtSixJLM\\/DyoZrAqVrArGZDc0KJZYdQ73T8d2Q2Lqv3k777nn4Nww+H2BiLcIIbihpD80vSMvNTiYlyO4XNEUcbAAADU9BM8TgEAAA==\"}},\"3\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_HELMET\",\"damage\":231,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60,\"OXYGEN\":10,\"WATER_WORKER\":20},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXlHz3XbfW13ESCwMnSMgnNbG4pNd3Auf\\/Z8c3sTGwOebml+aVOHAwgAEHA0twTn4JA0tGamIKBwMv3Hi\\/xNxUBt701LzUosxkvUSQM5gZOP0LUosSSzLz86B6wapYwY5kQHJChPnH9HONDm7ITlgdLxvN80eOHeGEw+0NhJ0ghuKEkPzS9Iy81OJiXG7hc0RRxsAAAJYvEYRMAQAA\"}}},\"stats\":{\"ex\":\"2.5350924\",\"ma\":\"300\",\"fl\":\"9\",\"el\":\"13\",\"xp\":\"0.42424265\",\"hp\":\"29.467973709106445\",\"txp\":\"261\",\"sa\":\"0.0\",\"fd\":\"0.0\",\"ft\":\"-20\",\"ra\":\"300\"}}}";
    private static final String validJson1 = "{\"SURVIVAL\":{\"potions\":\"[]\",\"enderChestContents\":{\"0\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"SKULL_ITEM\",\"damage\":3,\"amount\":24,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SKULL\",\"display-name\":\"§6§l[ §e§lLuckyBlock §6§l]\",\"internal\":\"H4sIAAAAAAAAADVPx66jZhhlool05yqPkR26ooNZzMKmmW66YUcz7afYdJ4pDxnPKFl9+s7RaZ8Q9An95TQzALdX\\/6hA\\/gH9IWfQ3ymW0WhKoV8MmlBfJIPjXyeUYr5ODEMzFMXkFJp9Qp9v0ZC\\/pioff0AfU75N8ysfPyEI+vYB\\/XCqoot\\/IX\\/8U8gUTMhlUWW6OptyMTI3I\\/JIOee4rDoKVujBESamMGuCGD\\/Wq2R2qEUNFpfP0+tmN3TrDAjCqbcesQrifIzEPtLOOE4T7eMS8SBE8348YH9itnp5hlvWRsxFkU7n6dVj1rsrmeM6\\/wzRKVItEGNPzsuohsLHeiHvsS0RO20jzkSPpYqnD\\/ecWQ99WYtTDosya0qx0rqJeRtWBblSPWWitA03sIXdOpcUFAzlh\\/ilFGUvdjWN+4fFxw2TcCV3iCLZ892EXVWN8sguGu2el4Qga4UabtVDUvSgZvZJHfcmoqvTRvIki0QPq0bFS4UwOyGm8PW1wra4mKGWI+Y9bP2OachkIzv+1PZt+gI0mz8DVLq\\/TlUfIg4\\/xuqGXOqLxuQ5LkYBuFGoQp3aDnj86kWZTZ6YNC4vzVAhHLyFziAOEVIO4WOF1\\/AivVys2NPH1ccs8XHSDrF2xrgQm1mb4P581WtVT1nXXSjd2ceLJLLtEW6aVmjdTKstXNILbCZwyYRbmZOTOVjqji+dd9+S4wSbZHLznknfO1PEZbLKpPcMScPwFpcx0ohKX4TreI2pRfJvOmmTuao+6nVWrdS9nxtUyBiLvYLLYFqGSj1FrvcAwrL2HRmPq3HYqck0AgefUm3hgvq91wHxeceOy1JRnpkfLFrEM9i3WRmaYIEHnt6wAaAByujP4gg9Xfj5Af3px2DOv235rqBxgIGUsMvkfq7MWkBNNySMWsbflzR5b5S7y57g0ZBIvhJxMi23+hbx4Roe3mocl8pwLUKvZVLnPcLk07c2xQw3A4Z7aeRqrdKrskQtGCOPKpPAq8xK0bPAeP3mcNAlrYhmdwV4rb9lAdijwKrMzt6z4Fe2DfKrjaWtf8j1wMjA0ByPfPNjlQQ+GgZ2mUnCfz\\/bRMH6y\\/9IJDDJHfrW+3vyu3OJZtczre0sGt3L33npTk1xQIGQUMqos+ak9VGN+D\\/PWwxXoCJeJkO3wPVDaUPXbkw+q8M3bgZKFR4KMPmyjmodNyUbRJL13p2ixnHeDFwE+mGRBq9jRg1aAxfeHnZtOAr7uKM\\/IegD+m7EbQ591+a0gaB\\/AaEUjPinBAAA\",\"skull-owner\":\"Luck\"}},\"1\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_PICKAXE\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DIG_SPEED\":100,\"SILK_TOUCH\":666,\"DURABILITY\":60}}},\"2\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_PICKAXE\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DAMAGE_ALL\":40,\"DIG_SPEED\":80,\"DURABILITY\":60,\"LOOT_BONUS_BLOCKS\":50}}},\"3\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"LAPIS_ORE\",\"amount\":46},\"4\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_BEEF\",\"amount\":30}},\"inventoryContents\":{\"22\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"mooshroom\"}},\"23\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"horse\"}},\"24\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"ocelot\"}},\"25\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"BOOKSHELF\",\"amount\":9},\"26\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND\",\"amount\":16},\"27\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"RAW_CHICKEN\"},\"28\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"GRILLED_PORK\",\"amount\":21},\"29\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_MUTTON\",\"amount\":51},\"30\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"WEB\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"display-name\":\"§1§l[ §c§lBaguette Spiderman §1§l]\",\"lore\":[\"§7§l[ §aUtilisations restantes §7§l]\",\"20\"],\"enchants\":{\"LUCK\":1}}},\"31\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COBBLESTONE\",\"amount\":64},\"10\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"FLINT\",\"amount\":2},\"32\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"SKULL_ITEM\",\"damage\":3,\"amount\":34,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SKULL\",\"display-name\":\"§6§l[ §e§lLuckyBlock §6§l]\",\"internal\":\"H4sIAAAAAAAAADVPx66jZhhlool05yqPkR26ooNZzMKmmW66YUcz7afYdJ4pDxnPKFl9+s7RaZ8Q9An95TQzALdX\\/6hA\\/gH9IWfQ3ymW0WhKoV8MmlBfJIPjXyeUYr5ODEMzFMXkFJp9Qp9v0ZC\\/pioff0AfU75N8ysfPyEI+vYB\\/XCqoot\\/IX\\/8U8gUTMhlUWW6OptyMTI3I\\/JIOee4rDoKVujBESamMGuCGD\\/Wq2R2qEUNFpfP0+tmN3TrDAjCqbcesQrifIzEPtLOOE4T7eMS8SBE8348YH9itnp5hlvWRsxFkU7n6dVj1rsrmeM6\\/wzRKVItEGNPzsuohsLHeiHvsS0RO20jzkSPpYqnD\\/ecWQ99WYtTDosya0qx0rqJeRtWBblSPWWitA03sIXdOpcUFAzlh\\/ilFGUvdjWN+4fFxw2TcCV3iCLZ892EXVWN8sguGu2el4Qga4UabtVDUvSgZvZJHfcmoqvTRvIki0QPq0bFS4UwOyGm8PW1wra4mKGWI+Y9bP2OachkIzv+1PZt+gI0mz8DVLq\\/TlUfIg4\\/xuqGXOqLxuQ5LkYBuFGoQp3aDnj86kWZTZ6YNC4vzVAhHLyFziAOEVIO4WOF1\\/AivVys2NPH1ccs8XHSDrF2xrgQm1mb4P581WtVT1nXXSjd2ceLJLLtEW6aVmjdTKstXNILbCZwyYRbmZOTOVjqji+dd9+S4wSbZHLznknfO1PEZbLKpPcMScPwFpcx0ohKX4TreI2pRfJvOmmTuao+6nVWrdS9nxtUyBiLvYLLYFqGSj1FrvcAwrL2HRmPq3HYqck0AgefUm3hgvq91wHxeceOy1JRnpkfLFrEM9i3WRmaYIEHnt6wAaAByujP4gg9Xfj5Af3px2DOv235rqBxgIGUsMvkfq7MWkBNNySMWsbflzR5b5S7y57g0ZBIvhJxMi23+hbx4Roe3mocl8pwLUKvZVLnPcLk07c2xQw3A4Z7aeRqrdKrskQtGCOPKpPAq8xK0bPAeP3mcNAlrYhmdwV4rb9lAdijwKrMzt6z4Fe2DfKrjaWtf8j1wMjA0ByPfPNjlQQ+GgZ2mUnCfz\\/bRMH6y\\/9IJDDJHfrW+3vyu3OJZtczre0sGt3L33npTk1xQIGQUMqos+ak9VGN+D\\/PWwxXoCJeJkO3wPVDaUPXbkw+q8M3bgZKFR4KMPmyjmodNyUbRJL13p2ixnHeDFwE+mGRBq9jRg1aAxfeHnZtOAr7uKM\\/IegD+m7EbQ591+a0gaB\\/AaEUjPinBAAA\",\"skull-owner\":\"Luck\"}},\"11\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"NETHER_STAR\"},\"12\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"BOOK\",\"amount\":10},\"34\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"ARROW\"},\"13\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"GOLD_NUGGET\",\"amount\":4,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"display-name\":\"§cPièce chanceuse\",\"enchants\":{\"LUCK\":1}}},\"14\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"pig\"}},\"36\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_BOOTS\",\"damage\":258,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"FROST_WALKER\":2,\"DURABILITY\":60,\"PROTECTION_FALL\":25},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXPOdh3t1f6O\\/AwsAJEvJJTSwuWb+nPsaqKugYGwObY25+aV6JAwcDGHAwsATn5JcwsKSlppZwMPDCjfdLzE1l4E1PzUstykzWSwQ5g5mB078gtSixJDM\\/D6oXrIoV7EgGJCdwlb172ZnswY\\/shElXgmbIiXiIIJxwuL2BsBPEUJwQkl+anpGXWlyMyy18jijKGBgAooym7kwBAAA=\"}},\"15\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"cow\"}},\"37\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_LEGGINGS\",\"damage\":232,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXsF+4mnnBxz2AhYETJOSTmlhcstahujaRp0qCjYHNMTe\\/NK\\/EQYIBDDgYWIJz8ksYWHJS04s5GHjhxvsl5qYy8Kan5qUWZSbrJYKcwczA6V+QWpRYkpmfB9ULVsUKdiQDkhN82Vp+vf\\/t0oXshB39k0yrG63EEE443N5A2AliKE4IyS9Nz8hLLS7G5RY+RxRlDAwAQP5PxUwBAAA=\"}},\"16\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"rabbit\"}},\"38\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_CHESTPLATE\",\"damage\":227,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXBLXd+XjvkMdLFgZOkJBPamJxyawc6ULpnW4RbAxsjrn5pXklDgoMYMDBwBKck1\\/CwJqckVpcwsHACzffLzE3lYE3PTUvtSgzWS8R5A5mBk7\\/gtSixJLM\\/DyoZrAqVrArGZDc0KJZYdQ73T8d2Q2Lqv3k777nn4Nww+H2BiLcIIbihpD80vSMvNTiYlyO4XNEUcbAAADU9BM8TgEAAA==\"}},\"17\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"sheep\"}},\"39\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_HELMET\",\"damage\":231,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60,\"OXYGEN\":10,\"WATER_WORKER\":20},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXlHz3XbfW13ESCwMnSMgnNbG4pNd3Auf\\/Z8c3sTGwOebml+aVOHAwgAEHA0twTn4JA0tGamIKBwMv3Hi\\/xNxUBt701LzUosxkvUSQM5gZOP0LUosSSzLz86B6wapYwY5kQHJChPnH9HONDm7ITlgdLxvN80eOHeGEw+0NhJ0ghuKEkPzS9Iy81OJiXG7hc0RRxsAAAJYvEYRMAQAA\"}},\"18\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"squid\"}},\"19\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"villager\"}},\"0\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_SWORD\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DIG_SPEED\":100,\"DAMAGE_ALL\":40,\"DAMAGE_UNDEAD\":40,\"DAMAGE_ARTHROPODS\":40,\"DURABILITY\":60,\"FIRE_ASPECT\":20,\"LOOT_BONUS_MOBS\":60,\"SWEEPING\":30,\"MENDING\":8}}},\"1\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"BOW\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"ARROW_DAMAGE\":40,\"ARROW_KNOCKBACK\":25,\"DURABILITY\":60,\"ARROW_FIRE\":25,\"ARROW_INFINITE\":666}}},\"2\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_AXE\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DAMAGE_ALL\":40,\"DIG_SPEED\":80,\"DURABILITY\":60,\"LOOT_BONUS_BLOCKS\":50,\"MENDING\":1}}},\"3\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_PICKAXE\",\"damage\":8,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"display-name\":\"§6§l§k|§3§lVip+§6§l§k|§r \",\"enchants\":{\"DIG_SPEED\":8,\"DURABILITY\":10,\"LOOT_BONUS_BLOCKS\":3}}},\"4\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_BEEF\",\"amount\":3},\"5\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"SLIME_BALL\",\"amount\":12},\"7\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"STRING\",\"amount\":4},\"8\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COAL_BLOCK\",\"amount\":8},\"9\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"ARROW\",\"amount\":64},\"20\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"chicken\"}},\"21\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"wolf\"}}},\"bedSpawnLocation\":{\"wo\":\"Survie\",\"x\":-12842.0,\"ya\":0.0,\"y\":110.0,\"pi\":0.0,\"z\":1103.0},\"armorContents\":{\"0\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_BOOTS\",\"damage\":258,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"FROST_WALKER\":2,\"DURABILITY\":60,\"PROTECTION_FALL\":25},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXPOdh3t1f6O\\/AwsAJEvJJTSwuWb+nPsaqKugYGwObY25+aV6JAwcDGHAwsATn5JcwsKSlppZwMPDCjfdLzE1l4E1PzUstykzWSwQ5g5mB078gtSixJDM\\/D6oXrIoV7EgGJCdwlb172ZnswY\\/shElXgmbIiXiIIJxwuL2BsBPEUJwQkl+anpGXWlyMyy18jijKGBgAooym7kwBAAA=\"}},\"1\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_LEGGINGS\",\"damage\":232,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXsF+4mnnBxz2AhYETJOSTmlhcstahujaRp0qCjYHNMTe\\/NK\\/EQYIBDDgYWIJz8ksYWHJS04s5GHjhxvsl5qYy8Kan5qUWZSbrJYKcwczA6V+QWpRYkpmfB9ULVsUKdiQDkhN82Vp+vf\\/t0oXshB39k0yrG63EEE443N5A2AliKE4IyS9Nz8hLLS7G5RY+RxRlDAwAQP5PxUwBAAA=\"}},\"2\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_CHESTPLATE\",\"damage\":227,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXBLXd+XjvkMdLFgZOkJBPamJxyawc6ULpnW4RbAxsjrn5pXklDgoMYMDBwBKck1\\/CwJqckVpcwsHACzffLzE3lYE3PTUvtSgzWS8R5A5mBk7\\/gtSixJLM\\/DyoZrAqVrArGZDc0KJZYdQ73T8d2Q2Lqv3k777nn4Nww+H2BiLcIIbihpD80vSMvNTiYlyO4XNEUcbAAADU9BM8TgEAAA==\"}},\"3\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_HELMET\",\"damage\":231,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"PROTECTION_ENVIRONMENTAL\":60,\"DURABILITY\":60,\"OXYGEN\":10,\"WATER_WORKER\":20},\"internal\":\"H4sIAAAAAAAAAONiYGBkEIr2d\\/aNdSzKzS\\/yzU\\/JTMtMLWLkZBByLCkpykwqLUmFCRZzMTAwMLEwcISGerr45heXlHz3XbfW13ESCwMnSMgnNbG4pNd3Auf\\/Z8c3sTGwOebml+aVOHAwgAEHA0twTn4JA0tGamIKBwMv3Hi\\/xNxUBt701LzUosxkvUSQM5gZOP0LUosSSzLz86B6wapYwY5kQHJChPnH9HONDm7ITlgdLxvN80eOHeGEw+0NhJ0ghuKEkPzS9Iy81OJiXG7hc0RRxsAAAJYvEYRMAQAA\"}}},\"stats\":{\"ex\":\"2.5350924\",\"ma\":\"300\",\"fl\":\"9\",\"el\":\"13\",\"xp\":\"0.42424265\",\"hp\":\"29.467973709106445\",\"txp\":\"261\",\"sa\":\"0.0\",\"fd\":\"0.0\",\"ft\":\"-20\",\"ra\":\"300\"}}}";
    private static final String validJson2 = "{\"SURVIVAL\":{\"bedSpawnLocation\":{\"wo\":\"Fiordland\",\"x\":-7357.0,\"ya\":0.0,\"y\":67.0,\"pi\":0.0,\"z\":-27793.0},\"armorContents\":{\"0\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_BOOTS\",\"damage\":60},\"1\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_LEGGINGS\",\"damage\":34},\"2\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_CHESTPLATE\",\"damage\":32},\"3\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_HELMET\",\"damage\":32}},\"inventoryContents\":{\"22\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"CARROT_ITEM\",\"amount\":20},\"23\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"RABBIT_FOOT\",\"amount\":2},\"24\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"WOOD\",\"damage\":5,\"amount\":60},\"25\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"EGG\"},\"26\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"FEATHER\",\"amount\":37},\"27\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"BOOK\"},\"28\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"WOOL\",\"amount\":44},\"29\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"ROTTEN_FLESH\",\"amount\":4},\"30\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"GRAVEL\",\"amount\":4},\"31\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"FURNACE\",\"amount\":21},\"10\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"INK_SACK\",\"damage\":4,\"amount\":9},\"32\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"BED\"},\"11\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"ENDER_PEARL\"},\"33\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COAL\",\"amount\":8},\"12\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_BEEF\",\"amount\":15},\"34\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"SPIDER_EYE\",\"amount\":2},\"13\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"WATCH\"},\"35\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"WATER_BUCKET\"},\"14\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"LEATHER\",\"amount\":22},\"36\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_BOOTS\",\"damage\":60},\"15\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"GRASS\"},\"37\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_LEGGINGS\",\"damage\":34},\"16\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_CHICKEN\",\"amount\":3},\"38\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_CHESTPLATE\",\"damage\":32},\"17\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_PICKAXE\",\"damage\":525,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DIG_SPEED\":4,\"DURABILITY\":3,\"LOOT_BONUS_BLOCKS\":3},\"repair-cost\":31}},\"39\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_HELMET\",\"damage\":32},\"18\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"RABBIT_HIDE\",\"amount\":3},\"19\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"RABBIT_FOOT\"},\"0\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_PICKAXE\",\"damage\":326},\"1\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"DIAMOND_SWORD\",\"damage\":557,\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"UNSPECIFIC\",\"enchants\":{\"DAMAGE_ALL\":1,\"FIRE_ASPECT\":1},\"repair-cost\":3}},\"2\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_SPADE\",\"damage\":61},\"3\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"IRON_AXE\",\"damage\":170},\"4\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"STRING\"},\"5\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"MONSTER_EGG\",\"meta\":{\"==\":\"ItemMeta\",\"meta-type\":\"SPAWN_EGG\",\"id\":\"villager\"}},\"6\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_MUTTON\",\"amount\":4},\"7\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"BEETROOT_SEEDS\",\"amount\":19},\"8\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"ARROW\",\"amount\":9},\"9\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"SULPHUR\",\"amount\":6},\"20\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"COOKED_RABBIT\"},\"21\":{\"==\":\"org.bukkit.inventory.ItemStack\",\"type\":\"POTATO_ITEM\",\"amount\":43}},\"enderChestContents\":{},\"potions\":\"[]\",\"stats\":{\"ex\":\"1.5963848\",\"ma\":\"300\",\"fl\":\"8\",\"el\":\"10\",\"hp\":\"17.75\",\"xp\":\"0.8518517\",\"txp\":\"183\",\"sa\":\"0.0\",\"fd\":\"0.0\",\"ft\":\"-20\",\"ra\":\"300\"}}}";

    private JsonConfiguration jc;

    boolean mocked = false;


    @Before
    public void setUp() throws Exception {
        if (!mocked) {
            ItemFactory i = CraftItemFactory.instance();
            PowerMockito.mockStatic(Bukkit.class);
            BDDMockito.given(Bukkit.getItemFactory()).willReturn(i);
            ConfigurationSerialization.registerClass(ItemStack.class);
            mocked = true;
        }
        jc = new JsonConfiguration();
    }

    @Test
    public void testValidJson() throws Exception {
        jc.loadFromString(validJson1);
        System.out.println(jc.getConfigurationSection("SURVIVAL").getConfigurationSection("inventoryContents").getValues(true));
        jc.loadFromString(validJson2);
        System.out.println(jc.getValues(true));
        JsonConfiguration jsonConfiguration = JsonConfiguration.loadConfiguration(new File("./testdata/valid1.json"));
        System.out.println(jsonConfiguration.getValues(true));
    }

    @Test(expected=InvalidConfigurationException.class)
    public void testInvalidJson() throws Exception {
        jc.loadFromString(invalidJson1);
    }
}